## ğŸ“ ë°°ê²½ ì§€ì‹ (Context)

Phase EëŠ” ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ í†µí•©í•˜ëŠ” ìµœì¢… ë‹¨ê³„ì…ë‹ˆë‹¤. Typer ê¸°ë°˜ CLIì™€ Rich ê¸°ë°˜ TUIë¥¼ êµ¬í˜„í•˜ì—¬ ì‚¬ìš©ìê°€ ì‰½ê²Œ íŒŒì´í”„ë¼ì¸ì„ ì‹¤í–‰í•˜ê³  ìƒíƒœë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ í•©ë‹ˆë‹¤.

## ğŸ¯ ëª©í‘œ (Goal)

1. Typer ê¸°ë°˜ CLI ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„
2. Rich ê¸°ë°˜ TUI (Progress, Table, Panel)
3. 7ê°œ ëª…ë ¹ì–´ êµ¬í˜„ (index, metadata, episode, filename, epub, pipeline, status)
4. Stage 6 ë°°ì¹˜ ì²˜ë¦¬ (ë¡œê·¸, í†µê³„, ì¤‘ë³µ ì •ë¦¬)
5. pyproject.toml ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì„¤ì •

## ğŸ› ï¸ ê¸°ìˆ ì  ê³„íš (Technical Plan)

### êµ¬í˜„ëœ ëª¨ë“ˆ

#### 1. `src/novel_total_processor/cli.py`
- **CLI ëª…ë ¹ì–´**:
  - `ntp index`: Stage 0 íŒŒì¼ ì¸ë±ì‹±
  - `ntp metadata`: Stage 1 ë©”íƒ€ë°ì´í„° ìˆ˜ì§‘
  - `ntp episode`: Stage 2 í™”ìˆ˜ ê²€ì¦
  - `ntp filename`: Stage 3 íŒŒì¼ëª… ìƒì„±
  - `ntp epub`: Stage 5 EPUB ìƒì„±
  - `ntp pipeline`: ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
  - `ntp status`: ì²˜ë¦¬ ìƒíƒœ í™•ì¸

- **Rich TUI**:
  - Progress: ì§„í–‰ ìƒí™© í‘œì‹œ (Spinner, Bar, Percentage)
  - Table: ê²°ê³¼ í…Œì´ë¸”
  - Panel: ì œëª© íŒ¨ë„

#### 2. `src/novel_total_processor/stages/stage6_batch.py`
- **BatchProcessor í´ë˜ìŠ¤**:
  - `create_batch_log()`: ë°°ì¹˜ ë¡œê·¸ ìƒì„±
  - `get_statistics()`: ì „ì²´ í†µê³„ ì¡°íšŒ
  - `cleanup_duplicates()`: ì¤‘ë³µ íŒŒì¼ ì •ë¦¬

### CLI ì‚¬ìš© ì˜ˆì‹œ
```bash
# ì „ì²´ íŒŒì´í”„ë¼ì¸ ì‹¤í–‰
python -m novel_total_processor.cli pipeline --limit 10

# ìƒíƒœ í™•ì¸
python -m novel_total_processor.cli status

# EPUB ìƒì„±
python -m novel_total_processor.cli epub --limit 5
```

## âœ… ì™„ë£Œ ì¡°ê±´ (Definition of Done)

- [x] CLI ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ (Typer)
- [x] Rich TUI êµ¬í˜„ (Progress, Table, Panel)
- [x] 7ê°œ ëª…ë ¹ì–´ êµ¬í˜„
- [x] Stage 6 ë°°ì¹˜ ì²˜ë¦¬ êµ¬í˜„
- [x] pyproject.toml ì—”íŠ¸ë¦¬í¬ì¸íŠ¸ ì„¤ì •
- [x] CLI í…ŒìŠ¤íŠ¸ ì„±ê³µ

## ğŸ“ ì§„í–‰ ê¸°ë¡

| ë‚ ì§œ | ë‚´ìš© |
|:---|:---|
| 2026-02-12 | ì´ìŠˆ ìƒì„± |
| 2026-02-12 | CLI + TUI + Stage 6 êµ¬í˜„ ì™„ë£Œ, í…ŒìŠ¤íŠ¸ ì„±ê³µ |
